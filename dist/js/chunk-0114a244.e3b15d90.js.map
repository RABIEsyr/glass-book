{"version":3,"sources":["webpack:///./src/components/chat/ChatOneToOne.vue?3deb","webpack:///src/components/chat/ChatOneToOne.vue","webpack:///./src/components/chat/ChatOneToOne.vue?7b55","webpack:///./src/components/chat/ChatOneToOne.vue?8e2f","webpack:///./src/components/chat/ChatOneToOne.vue?1063"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","receiverId","_v","_s","receiverName","ref","_l","message","index","key","_id","author","class","status","deletearray","length","style","on","$event","toggleVisibilityButtons","body","visibleButtons","deleteRestoreMessage","includes","userID","staticStyle","_e","preventDefault","sendMessage","directives","name","rawName","value","expression","domProps","target","composing","bobMessage","$route","params","receiverID","staticRenderFns","methods","console","log","$nextTick","windowWidth2","window","innerWidth","$set","messages","headers","authorization","localStorage","getItem","res","data","success","messageToUpdate","push","getChatMessage","types","computed","getMessages","watch","txt","created","$router","mounted","addEventListener","updated","socket","emit","destroyed","component","VCol","VContainer","VRow"],"mappings":"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","file":"js/chunk-0114a244.e3b15d90.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-container',[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',{staticClass:\"pa-2\",attrs:{\"cols\":\"12\"}},[_c('router-link',{attrs:{\"to\":'/user/' + _vm.receiverId}},[_c('h1',{staticClass:\"head\"},[_vm._v(_vm._s(_vm.receiverName))])]),_c('main',{attrs:{\"id\":\"ap\"}},[_c('section',{ref:\"chatArea\",staticClass:\"chat-area\"},[_c('v-container',_vm._l((_vm.messages),function(message,index){return _c('v-row',{key:message._id,attrs:{\"no-gutters\":\"\"}},[(message.author !== 'you')?[_c('v-row',[_c('p',{staticClass:\"message\",class:{ \n              'message-out': message.author === 'you',\n             'message-in': (message.author !== 'you' && message.status == 'seen'),\n              'message-in-sent': (message.author !== 'you' && message.status == 'sent'),\n             'message-out-delete': message.deletearray.length > 0 ? true : false },style:({'word-wrap': 'break-word'}),on:{\"click\":function($event){return _vm.toggleVisibilityButtons(index)}}},[_vm._v(\" \"+_vm._s(message.body)+\" \")]),(_vm.visibleButtons[index])?_c('h1',{on:{\"click\":function($event){return _vm.deleteRestoreMessage(message._id, index)}}},[(message.deletearray.includes(_vm.userID))?_c('font-awesome-icon',{staticStyle:{\"color\":\"blue\"},attrs:{\"icon\":\"redo\"}}):_vm._e(),(!message.deletearray.includes(_vm.userID))?_c('font-awesome-icon',{staticClass:\"fa fa-trash\",style:({'color': message.deletearray.length > 0 ? 'red' : 'blue'}),attrs:{\"icon\":\"trash\"}}):_vm._e()],1):_vm._e()])]:[_c('v-row',{staticStyle:{\"background\":\"white\"},style:({'color': 'black', 'margin-left': '40%'})},[(_vm.visibleButtons[index])?_c('h1',{on:{\"click\":function($event){return _vm.deleteRestoreMessage(message._id, index)}}},[(message.deletearray.includes(_vm.userID))?_c('font-awesome-icon',{staticStyle:{\"color\":\"blue\"},attrs:{\"icon\":\"redo\"}}):_vm._e(),(!message.deletearray.includes(_vm.userID))?_c('font-awesome-icon',{staticClass:\"fa fa-trash\",style:({'color': message.deletearray.length > 0 ? 'red' : 'blue'}),attrs:{\"icon\":\"trash\"}}):_vm._e()],1):_vm._e(),_c('p',{staticClass:\"message\",class:{ 'message-out': message.author === 'you', 'message-in': message.author !== 'you', \n            'message-out-delete': message.deletearray.length > 0 ? true : false\n          },style:({'word-wrap': 'break-word', 'float': 'right',}),on:{\"click\":function($event){return _vm.toggleVisibilityButtons(index)}}},[_vm._v(\" \"+_vm._s(message.body)+\" \")])])]],2)}),1)],1),_c('section',{staticClass:\"chat-inputs\"},[_c('form',{attrs:{\"id\":\"person1-form\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.sendMessage()}}},[_c('label',{attrs:{\"for\":\"person1-input\"}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.bobMessage),expression:\"bobMessage\"}],attrs:{\"id\":\"person1-input\",\"type\":\"text\",\"placeholder\":\"Type your message\",\"required\":\"\"},domProps:{\"value\":(_vm.bobMessage)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.bobMessage=$event.target.value}}}),_c('button',{attrs:{\"type\":\"submit\"}},[_c('font-awesome-icon',{staticStyle:{\"color\":\"#407FFF\",\"margin-left\":\"5px\"},attrs:{\"icon\":\"fas fa-paper-plane\"}})],1)])])])],1)],1)],1),_c('router-link',{attrs:{\"to\":'/encr-private-chat/'+ _vm.$route.params.receiverID}},[_vm._v(\" E-E encryption \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <v-container>\r\n      <v-row no-gutters>\r\n        <v-col \r\n          cols=\"12\"\r\n          class=\"pa-2\"\r\n          >\r\n          <router-link :to=\"'/user/' + receiverId\"> <h1 class=\"head\">{{receiverName}}</h1> </router-link>\r\n          <main id=\"ap\">\r\n            <section ref=\"chatArea\" class=\"chat-area\">\r\n\r\n              <v-container>\r\n      <v-row no-gutters v-for=\"(message, index) in messages\" :key=\"message._id\">\r\n      <template v-if=\"message.author !== 'you'\">\r\n        <v-row \r\n          \r\n          >\r\n          <p :style=\"{'word-wrap': 'break-word'}\" class=\"message\"\r\n              :class=\"{ \r\n                'message-out': message.author === 'you',\r\n               'message-in': (message.author !== 'you' && message.status == 'seen'),\r\n                'message-in-sent': (message.author !== 'you' && message.status == 'sent'),\r\n               'message-out-delete': message.deletearray.length > 0 ? true : false }\"\r\n              @click=\"toggleVisibilityButtons(index)\">\r\n              {{ message.body}}\r\n              </p>\r\n        \r\n          \r\n          \r\n          <h1 v-if=\"visibleButtons[index]\" @click=\"deleteRestoreMessage(message._id, index)\">\r\n            <font-awesome-icon icon=\"redo\" style=\"color: blue\"\r\n                   v-if=\"message.deletearray.includes(userID)\"></font-awesome-icon>\r\n             <font-awesome-icon\r\n             v-if=\"!message.deletearray.includes(userID)\" icon=\"trash\" class='fa fa-trash'\r\n             :style=\"{'color': message.deletearray.length > 0 ? 'red' : 'blue'}\"></font-awesome-icon>\r\n          </h1>\r\n        </v-row>\r\n      </template>\r\n      <template v-else>\r\n       <v-row  style=\"background: white; \"  :style=\"{'color': 'black', 'margin-left': '40%'}\">\r\n        <!-- <h1 :style=\"{'color': 'black', 'margin-left': '40%'}\" >{{windowWidth2}}</h1> -->\r\n        <!-- <h1\r\n         v-show=\"visibleButtons[index]\" @click=\"deleteRestoreMessage(message._id, index)\">55</h1> -->\r\n         <h1 v-if=\"visibleButtons[index]\" @click=\"deleteRestoreMessage(message._id, index)\">\r\n            <font-awesome-icon icon=\"redo\" style=\"color: blue\"\r\n                   v-if=\"message.deletearray.includes(userID)\"></font-awesome-icon>\r\n             <font-awesome-icon\r\n             :style=\"{'color': message.deletearray.length > 0 ? 'red' : 'blue'}\"\r\n             v-if=\"!message.deletearray.includes(userID)\" icon=\"trash\" class='fa fa-trash'></font-awesome-icon>\r\n          </h1>\r\n        <p :style=\"{'word-wrap': 'break-word', 'float': 'right',}\" class=\"message\"\r\n        @click=\"toggleVisibilityButtons(index)\"\r\n              :class=\"{ 'message-out': message.author === 'you', 'message-in': message.author !== 'you', \r\n              'message-out-delete': message.deletearray.length > 0 ? true : false\r\n            }\">\r\n              {{ message.body}}\r\n              </p>\r\n       </v-row>\r\n          \r\n       \r\n        \r\n         \r\n      </template>\r\n        \r\n      </v-row>\r\n              </v-container>\r\n\r\n             \r\n             \r\n            </section>\r\n\r\n            <section class=\"chat-inputs\">\r\n              <form @submit.prevent=\"sendMessage()\" id=\"person1-form\">\r\n                <label for=\"person1-input\"></label>\r\n                <input v-model=\"bobMessage\" id=\"person1-input\" type=\"text\" placeholder=\"Type your message\" required>\r\n                <button type=\"submit\">\r\n                  <!-- <i class=\"material-icons\" style=\"font-size:16px;color:blue\">navigate_next</i> -->\r\n                  <font-awesome-icon icon=\"fas fa-paper-plane\" style=\"color: #407FFF; margin-left: 5px;\" />\r\n                </button>\r\n              </form>\r\n            </section>\r\n          </main>\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n     \r\n\r\n    <router-link :to=\"'/encr-private-chat/'+ $route.params.receiverID\">\r\n    E-E encryption\r\n    </router-link>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport serverUrl from '../../config'\r\nimport io from \"socket.io-client\";\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nimport * as types from \"../../store/types\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            // socket: io(\"http://localhost:3000\", {\r\n            socket: io(serverUrl, {\r\n             query: { token: localStorage.getItem(\"token\") },\r\n             }),\r\n        bobMessage: '',\r\n        youMessage: '',\r\n        receiverName: '',\r\n        receiverId: this.$route.params.receiverID,\r\n        messages: [\r\n        // {\r\n        //     body: 'Welcome to the chat, I\\'m Bob!',\r\n        //     author: 'bob'\r\n        // },\r\n        // {\r\n        //     body: 'Thank you Bob',\r\n        //     author: 'you'\r\n        // },\r\n        // {\r\n        //     body: 'You\\'re most welcome',\r\n        //     author: 'bob'\r\n        // }\r\n        ],\r\n        windowWidth2: window.innerWidth,\r\n        visibleButtons: [],\r\n        userID: localStorage.getItem('userID'),\r\n        urls: serverUrl\r\n  }\r\n},\r\nmethods: {\r\n  //   sendMessage(direction) {\r\n  //     if (!this.youMessage && !this.bobMessage) {\r\n  //       return\r\n  //     }\r\n  //     if (direction === 'out') {\r\n  //       this.messages.push({body: this.youMessage, author: 'you'})\r\n  //       this.youMessage = ''\r\n  //     } else if (direction === 'in') {\r\n  //       this.messages.push({body: this.bobMessage, author: 'bob'})\r\n  //       this.bobMessage = ''\r\n  //     } else {\r\n  //       alert('something went wrong')\r\n  //     }\r\n  //     this.nextTick(() => {\r\n  //       let messageDisplay = this.$refs.chatArea\r\n  //       messageDisplay.scrollTop = messageDisplay.scrollHeight\r\n  //     })\r\n  // },\r\n    sendMessage() {\r\n      // if (!this.youMessage && !this.bobMessage) {\r\n      //   return\r\n      // }\r\n      // if (direction === 'out') {\r\n      //   this.messages.push({body: this.youMessage, author: 'you'})\r\n      //   this.youMessage = ''\r\n      // } else if (direction === 'in') {\r\n      //   this.messages.push({body: this.bobMessage, author: 'bob'})\r\n      //   this.bobMessage = ''\r\n      // } else {\r\n      //   alert('something went wrong')\r\n      // }\r\n      try {\r\n        // this.messages.push({body: this.bobMessage, author: 'bob', deletearray: []})\r\n      \r\n      this.$store.dispatch('socketOnConnection', {msg: this.bobMessage, id: this.$route.params.receiverID})\r\n      } catch (error) {\r\n        console.log('the error heree')\r\n      }\r\n      // this.nextTick(() => {\r\n      //   let messageDisplay = this.$refs.chatArea\r\n      //   messageDisplay.scrollTop = messageDisplay.scrollHeight\r\n      // })\r\n      this.$nextTick(() => {\r\n     document.getElementsByClassName('chat-area')[0].scrollTop ;                      \r\n  })\r\n  },\r\n  onResize() {\r\n      console.log(\"App.vue-onResize()\", this.windowWidth2);\r\n      this.windowWidth2 = window.innerWidth;\r\n       \r\n    },\r\n    toggleVisibilityButtons(index) {\r\n      \r\n      this.$set(this.visibleButtons, index, !this.visibleButtons[index])\r\n      console.log(this.visibleButtons)\r\n      console.log(this.messages[index])\r\n      // console.log(this.messages[index])\r\n    },\r\n    deleteRestoreMessage(id, index) {\r\n    console.log('message id is: ', id)\r\n    // axios.post(\"http://localhost:3000/chat-message/delete-msg\",\r\n    axios.post(this.urls +\"/chat-message/delete-msg\",\r\n    {id: id ,receiverID: this.$route.params.receiverID},\r\n       {\r\n        headers: {\r\n          authorization: localStorage.getItem(\"token\"),\r\n        },\r\n      }).then((res) => {\r\n       \r\n        if (res.data.success) {\r\n          console.log('eee', res)\r\n          if (res.data.message == \"message confirm delete\") {\r\n            this.messages.splice(index, 1)\r\n            this.visibleButtons.splice(index, 1)\r\n          }\r\n          if (res.data.message == 'message delete request') {\r\n            const messageToUpdate = this.messages.find(m => m._id === id);\r\n            if (messageToUpdate) {\r\n              messageToUpdate.deletearray.push(localStorage.getItem('userID'));\r\n            }\r\n          }\r\n          if (res.data.message == 'message restore') {\r\n            const messageToUpdate = this.messages.find(m => m._id === id);\r\n            if (messageToUpdate) {\r\n              messageToUpdate.deletearray = [];\r\n            }\r\n          }\r\n        }\r\n        console.log(res)\r\n      })\r\n  },\r\n  ...mapActions({\r\n    getChatMessage: types.GET_CHAT_MESSAGES\r\n  })\r\n},\r\ncomputed: {\r\n  ...mapGetters({\r\n    getMessages: types.GET_CHAT_MESSAGES\r\n  })\r\n},\r\nwatch: {\r\n    windowWidth2(oldWidth, newWidth) {\r\n      var  txt = `it changed to ${newWidth} from ${oldWidth}`;\r\n      console.log('sxxx', txt)\r\n    },\r\n  },\r\ncreated() {\r\n  // this.getChatMessage(this.$route.params.receiverID).then(() => {\r\n  //   const msgs = this.getMessages;\r\n  //   console.log('222', msgs)\r\n  // })\r\n  \r\n\r\n      // axios.get(\"http://localhost:3000/chat-message/\" + this.$route.params.receiverID,\r\n      axios.get(this.urls +\"/chat-message/\" + this.$route.params.receiverID,\r\n       {\r\n        headers: {\r\n          authorization: localStorage.getItem(\"token\"),\r\n        },\r\n      }).then((res) => {\r\n        console.log('msgd22', res.data)\r\n        var msgs = res.data;\r\n        msgs.map((m) => {\r\n          if (m.from == localStorage.getItem('userID')) {\r\n            console.log('0000', localStorage.getItem('userID'), '0000', m.from )\r\n            this.messages.push({body: m.text, author: 'bob', _id: m._id, deletearray: m.delete, status: m.status})\r\n            this.$nextTick(() => {\r\n              document.getElementsByClassName('chat-area')[0].scrollTop = '1111111111111111111111111111';                      \r\n              }) \r\n            return {\r\n              body: m.text,\r\n              author: 'bob'\r\n            }\r\n          } else {\r\n             this.messages.push({body: m.text, author: 'you', _id: m._id, deletearray: m.delete, status: m.status})\r\n            \r\n           return {\r\n              body: m.text,\r\n              author: 'you'\r\n            }\r\n          }\r\n        })\r\n        console.log('444', this.messages)\r\n      })\r\n  \r\n  this.socket.on('msg', (msg) => {\r\n    if (msg.senderId ==  localStorage.getItem('userID')) {\r\n       console.log('ChatOneToOne new message 2026', msg)\r\n       this.messages.push({body: msg.msg, author: 'bob', deletearray: msg.delete, _id: msg._id, status: msg.status})\r\n       this.$nextTick(() => {\r\n              document.getElementsByClassName('chat-area')[0].scrollTop = '1111111111111111111111111111';                      \r\n        })\r\n    }\r\n   \r\n    else if (msg.senderId ==  this.$route.params.receiverID ) {\r\n      \r\n       {\r\n        console.log('ChatOneToOne new message 2025', msg)\r\n      this.messages.push({body: msg.msg, author: 'you', deletearray: msg.delete, _id: msg._id, status: msg.status})\r\n       this.$nextTick(() => {\r\n              document.getElementsByClassName('chat-area')[0].scrollTop = '1111111111111111111111111111';                      \r\n        }) \r\n      }\r\n    } \r\n   \r\n  })\r\nthis.socket.emit('current-url', this.$route.params.receiverID)\r\n  // socket for delete mesage request\r\n  this.socket.on('message_deleted_request', (msg) => {\r\n    console.log('message_deleted_request', msg)\r\n    const messageToUpdate = this.messages.find(m => m._id === msg.messageId);\r\n    if (messageToUpdate) {\r\n      messageToUpdate.deletearray.push(this.$route.params.receiverID);\r\n    }\r\n  })\r\n  //\r\n  // socket for delete mesage permantly\r\nthis.socket.on('message_restore', (msg) => {\r\n    console.log('message_restore', msg)\r\n    const messageToUpdate = this.messages.find(m => m._id === msg.messageId);\r\n    if (messageToUpdate) {\r\n      messageToUpdate.deletearray = [];\r\n    }\r\n  })\r\n  //\r\n// socket for delete mesage permantly\r\nthis.socket.on('message_delete_permenant', (msg) => {\r\n    console.log('message_deleted_permanent', msg)\r\n    this.messages = this.messages.filter(function (item) {\r\n      return item._id !== msg.messageId\r\n    })\r\n  })\r\n  //\r\n\r\n  //  message seen\r\n  this.socket.on('message-seen', (rec) => {\r\n    console.log('new sseenn', rec)\r\n    if (rec == this.$route.params.receiverID) {\r\n      const arryChatLength = this.messages.length -1;\r\n            console.log('seen message all: ', rec, 'arryChatLength: ', arryChatLength);\r\n\r\n      for(let o = arryChatLength; o >= 0; o--) {\r\n        console.log('oooooooooooooo', o)\r\n        if (this.messages[o].status == 'seen') {\r\n          console.log('eeeeerrrrrrr');\r\n        } else {\r\n          this.messages[o].status = 'seen'\r\n        }\r\n      }\r\n    }\r\n  })\r\n\r\n\r\n  // axios.post('http://localhost:3000/users/get-name-chat', \r\n  axios.post(this.urls +'/users/get-name-chat', \r\n  {id: this.$route.params.receiverID },\r\n  {\r\n        headers: {\r\n          authorization: localStorage.getItem(\"token\"),\r\n        }\r\n  }).then(res => {\r\n    this.receiverName = res.data.name\r\n  })\r\n\r\n  if (this.$route.params.receiverID == localStorage.getItem('userID')) {\r\n      this.$router.push('/')\r\n  }\r\n\r\n  // axios.post(\"http://localhost:3000/get-all-messages/read-message\", \r\n  axios.post(this.urls + \"/get-all-messages/read-message\", \r\n          {receiverId: this.$route.params.receiverID }, {\r\n            headers: { authorization: localStorage.getItem(\"token\") },\r\n          })\r\n          .then((res) => {\r\n            \r\n            this.socket.emit(\"new-post\", res);\r\n          });\r\n\r\n          this.socket.emit('some', 'some')\r\n\r\n    //  see all message\r\n\r\n    // axios.post(\"http://localhost:3000/seen/see-all-message\",\r\n    axios.post(this.urls + \"/seen/see-all-message\",\r\n      { senderId:  this.$route.params.receiverID},\r\n      {\r\n        headers: {\r\n          authorization: localStorage.getItem(\"token\"),\r\n        },\r\n      }).then((res) => { \r\n        console.log('seen result', res)\r\n      })\r\n  }, \r\n\r\n\r\n\r\nmounted() {\r\n  this.socket.emit('current-url', this.$route.params.receiverID)\r\n    this.$nextTick(() => {\r\n      window.addEventListener(\"resize\", this.onResize);\r\n       this.socket.emit('current-url', this.$route.params.receiverID)\r\n    });\r\n  },\r\n  updated() {\r\n    this.socket.emit('current-url', this.$route.params.receiverID)\r\n  },\r\ndestroyed() {\r\n this.messages = []\r\n this.$store.dispatch(types.RESET_CHAT_MESSAGES)\r\n this.socket.emit('current-url', null)\r\n window.removeEventListener(\"resize\", this.onResize);\r\n}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.headline {\r\n  text-align: center;\r\n  font-weight: 100;\r\n  color: white;\r\n}\r\n.chat-area {\r\n/*   border: 1px solid #ccc; */\r\n  background: white;\r\n  height: 50vh;\r\n  padding: 1em;\r\n  overflow: auto;\r\n  max-width: 100%;\r\n  margin: 0 auto 2em auto;\r\n  box-shadow: 2px 2px 5px 2px rgba(0, 0, 0, 0.3)\r\n}\r\n.message {\r\n  width: 45%;\r\n  border-radius: 10px;\r\n  padding: .5em;\r\n/*   margin-bottom: .5em; */\r\n  font-size: .8em;\r\n}\r\n.message-out {\r\n  background: #407FFF;\r\n  color: white;\r\n  /* margin-left: 0%; */\r\n  /* float: right; */\r\n}\r\n.message-out-delete {\r\n  background: red !important;\r\n  color: white !important;\r\n  /* margin-left: 0%; */\r\n  /* float: right; */\r\n}\r\n.message-in {\r\n  background: #F1F0F0;\r\n  color: black;\r\n}\r\n\r\n.message-in-sent {\r\n   background: yellowgreen;\r\n  color: white;\r\n}\r\n\r\n.chat-inputs {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n#person1-input {\r\n  padding: .5em;\r\n}\r\n#person2-input {\r\n  padding: .5em;  \r\n}\r\n\r\n#person1-form {\r\n  margin: auto;\r\n  padding: 10px;\r\n}\r\n.head {\r\n  margin: auto;\r\n  padding: 10px;\r\n}\r\n/* .msg-content {\r\n  display: inline;\r\n} */\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatOneToOne.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatOneToOne.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatOneToOne.vue?vue&type=template&id=4b37680a&scoped=true&\"\nimport script from \"./ChatOneToOne.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatOneToOne.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatOneToOne.vue?vue&type=style&index=0&id=4b37680a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4b37680a\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCol,VContainer,VRow})\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatOneToOne.vue?vue&type=style&index=0&id=4b37680a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatOneToOne.vue?vue&type=style&index=0&id=4b37680a&scoped=true&lang=css&\""],"sourceRoot":""}